{#  
    Some sheet data is pulled from JSON in the data folder.
    The JSON is imported to nunjucks templates via Gulp as the data variable. If additional data is added and needed in the sheet, you'll need to add it in the gulpfile. 
    You can access JSON data through the 'data' variable. Pass it into macros if needed
#}

{% import 'partials/statblock.njk' as statblock %}
{% import 'partials/itemcard.njk' as itemcard %}

<div class="sheet-znz-character-sheet sheet-znz-grid-layout">
    <!-- Name Area -->
    <div class="sheet-znz-area-name">
        <div class="sheet-znz-field">
            <h2>Name</h2>
            <input type="text" name="attr_name"></input>
        </div>
        <div class="sheet-znz-field">
            <h2>Status</h2>
            <input type="text" name="attr_status"></input>
        </div>
    </div>

    <!-- Stat Block-->
    <div class="sheet-znz-area-status">
        <div class="sheet-znz-row">
            {{ statblock.create('HP', 'hp', '30') }}
            {{ statblock.create('Sanity', 'sanity', '30') }}
            {{ statblock.create('Energy', 'energy', '30') }}
            {{ statblock.create('Exp', 'exp', '30') }}
        </div>
    </div>
    
    <!-- Attributes Block -->
    <div class="sheet-znz-area-attributes">
        <div class="sheet-znz-row-table">
            <div class="sheet-znz-row sheet-znz-row-table-header">
                <div class="sheet-znz-field sheet-znz-60">
                    <h2>Attribute</h2>
                </div>

                <div class="sheet-znz-field sheet-znz-40">
                    <div class="sheet-znz-inner-row">
                        <div class="sheet-znz-field sheet-znz-50">
                            <h2>Score</h2>
                        </div>
                        <div class="sheet-znz-field sheet-znz-50">
                            <h2>Bonus</h2>
                        </div>
                    </div>
                </div>

            </div>
            {% for attr in data.attributes %}
                <div class="sheet-znz-row">
                    <div class="sheet-znz-field sheet-znz-60">
                        <h3>{{ attr.display_name }}</h3>
                        <div class="sheet-znz-description">
                            {{ attr.reminder_note }}
                        </div>
                    </div>
                    <div class="sheet-znz-field sheet-znz-40">
                        <div class="sheet-znz-field">
                            <div class="sheet-znz-inner-row">
                                <div class="sheet-znz-field sheet-znz-50">
                                    <input type="number" name="attr_{{ attr.attr_name }}" min="1" value="3" max="6"/>
                                </div>
                                <div class="sheet-znz-field sheet-znz-50">
                                    <input type="text" readonly name="attr_{{ attr.attr_name }}_bonus" value="0"/>
                                </div>
                            </div>
                            <div class="sheet-znz-description">
                                Other Modifiers: <span readonly name="attr_{{ attr.attr_name }}_max"></span> 
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="sheet-znz-area-equipped-weapon">
        <div class="sheet-znz-section sheet-znz-equipped-ranged">
            <h2>Equipped Ranged Weapon</h2>
            {{ itemcard.create('equipped', true, "Ranged Weapon", data=data) }}
        </div>
        <div class="sheet-znz-section sheet-znz-equipped-melee">
            <h2>Equipped Melee Weapon</h2>
            {{ itemcard.create('equipped', true, "Melee Weapon", data=data) }}
        </div>
    </div>


    <div class="sheet-znz-area-equipped-melee  sheet-znz-area-equipped-weapon">
    </div>


    <div class="sheet-znz-area-equipped-helmet">
    </div>

    <div class="sheet-znz-area-equipped-armor">
    </div>
</div>