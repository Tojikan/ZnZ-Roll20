<div class="sheet-znz-character-sheet sheet-znz-grid-layout">    <div class="sheet-znz-grid-sidebar">        <div class="sheet-znz-area-name">    <div class="sheet-znz-field sheet-znz-field-text  ">         <div class="sheet-znz-field-label"><h2>Name</h2></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_char_name"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-textarea sheet-znz-note-tiny ">         <div class="sheet-znz-field-label"><h2>Character Notes</h2></div>        <div class="sheet-znz-field-input"><textarea name="attr_char_note"></textarea></div>    </div>        </div><div class="sheet-znz-area-counter">            <div class="sheet-znz-flex">                <div class="sheet-znz-counter-label">Total: </div>    <div class="sheet-znz-field sheet-znz-field-number  ">         <div class="sheet-znz-field-label"><h3>Attributes</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_attrib_count" readonly min="" max="" value="21" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  ">         <div class="sheet-znz-field-label"><h3>Stat Max</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_stats_count" readonly min="" max="" value="120" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  ">         <div class="sheet-znz-field-label"><h3>Skills</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_skills_count" readonly min="" max="" value="0" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  ">         <div class="sheet-znz-field-label"><h3>Proficiencies</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_profs_count" readonly min="" max="" value="0" ></input>        </div>    </div>            </div>        </div>        <div class="sheet-znz-section-attributes"><table class="sheet-znz-row-table">    <tr class="sheet-znz-header">        <th>Attribute</th>        <th>Score</th>        <th>Bonus</th>    </tr>    <tr>        <td>            <h3>Strength</h3>            <div class="sheet-znz-description">                Melee Damage, Grappling            </div>        </td>        <td><input type="number" name="attr_strength" min="1" value="3" max="6" /></td>        <td>            <div class="sheet-znz-attr-mod">                <input type="number" readonly name="attr_strength_mod" value=0 />                <div class="sheet-znz-attr-bonus">                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_strength_bonus_check" value="negative" />                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_strength_bonus_check" value="positive" />                    <span readonly class="sheet-znz-bonus-display" name="attr_strength_bonus"></span>                </div>            </div>        </td>    </tr>    <tr>        <td>            <h3>Dexterity</h3>            <div class="sheet-znz-description">                Dodging, Melee Hit, Initiative            </div>        </td>        <td><input type="number" name="attr_dexterity" min="1" value="3" max="6" /></td>        <td>            <div class="sheet-znz-attr-mod">                <input type="number" readonly name="attr_dexterity_mod" value=0 />                <div class="sheet-znz-attr-bonus">                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_dexterity_bonus_check" value="negative" />                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_dexterity_bonus_check" value="positive" />                    <span readonly class="sheet-znz-bonus-display" name="attr_dexterity_bonus"></span>                </div>            </div>        </td>    </tr>    <tr>        <td>            <h3>Perception</h3>            <div class="sheet-znz-description">                Scouting, Senses            </div>        </td>        <td><input type="number" name="attr_perception" min="1" value="3" max="6" /></td>        <td>            <div class="sheet-znz-attr-mod">                <input type="number" readonly name="attr_perception_mod" value=0 />                <div class="sheet-znz-attr-bonus">                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_perception_bonus_check" value="negative" />                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_perception_bonus_check" value="positive" />                    <span readonly class="sheet-znz-bonus-display" name="attr_perception_bonus"></span>                </div>            </div>        </td>    </tr>    <tr>        <td>            <h3>Intelligence</h3>            <div class="sheet-znz-description">                XP Gain, Knowledge, Clues            </div>        </td>        <td><input type="number" name="attr_intelligence" min="1" value="3" max="6" /></td>        <td>            <div class="sheet-znz-attr-mod">                <input type="number" readonly name="attr_intelligence_mod" value=0 />                <div class="sheet-znz-attr-bonus">                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_intelligence_bonus_check" value="negative" />                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_intelligence_bonus_check" value="positive" />                    <span readonly class="sheet-znz-bonus-display" name="attr_intelligence_bonus"></span>                </div>            </div>        </td>    </tr>    <tr>        <td>            <h3>Tenacity</h3>            <div class="sheet-znz-description">                Mental Fortitude and Nerves            </div>        </td>        <td><input type="number" name="attr_tenacity" min="1" value="3" max="6" /></td>        <td>            <div class="sheet-znz-attr-mod">                <input type="number" readonly name="attr_tenacity_mod" value=0 />                <div class="sheet-znz-attr-bonus">                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_tenacity_bonus_check" value="negative" />                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_tenacity_bonus_check" value="positive" />                    <span readonly class="sheet-znz-bonus-display" name="attr_tenacity_bonus"></span>                </div>            </div>        </td>    </tr>    <tr>        <td>            <h3>Humanity</h3>            <div class="sheet-znz-description">                Socialability, Stress Reduce            </div>        </td>        <td><input type="number" name="attr_humanity" min="1" value="3" max="6" /></td>        <td>            <div class="sheet-znz-attr-mod">                <input type="number" readonly name="attr_humanity_mod" value=0 />                <div class="sheet-znz-attr-bonus">                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_humanity_bonus_check" value="negative" />                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_humanity_bonus_check" value="positive" />                    <span readonly class="sheet-znz-bonus-display" name="attr_humanity_bonus"></span>                </div>            </div>        </td>    </tr>    <tr>        <td>            <h3>Luck</h3>            <div class="sheet-znz-description">                Chance, Loot            </div>        </td>        <td><input type="number" name="attr_luck" min="1" value="3" max="6" /></td>        <td>            <div class="sheet-znz-attr-mod">                <input type="number" readonly name="attr_luck_mod" value=0 />                <div class="sheet-znz-attr-bonus">                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_luck_bonus_check" value="negative" />                    <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_luck_bonus_check" value="positive" />                    <span readonly class="sheet-znz-bonus-display" name="attr_luck_bonus"></span>                </div>            </div>        </td>    </tr></table>        </div>        <div class="sheet-znz-section-flashlight">    <div class="sheet-znz-field sheet-znz-field-number  ">         <div class="sheet-znz-field-label"><h2>Flashlight Distance</h2></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_flashlight"  min="0" max="" value="10" ></input>        </div>    </div>        </div>        <div class="sheet-znz-section-skills">            <div class="sheet-znz-block">    <table class="sheet-znz-skill-table">        <tr class="sheet-znz-header"><h2>Skills</h2></tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_lockpicking"/></td>            <td class="sheet-znz-label">                Lockpicking                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_lockpicking_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_lockpicking_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_lockpicking_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_hotwiring"/></td>            <td class="sheet-znz-label">                Hotwiring                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_hotwiring_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_hotwiring_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_hotwiring_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_hacking"/></td>            <td class="sheet-znz-label">                Hacking                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_hacking_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_hacking_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_hacking_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_sleight_of_hand"/></td>            <td class="sheet-znz-label">                Sleight of Hand                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_sleight_of_hand_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_sleight_of_hand_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_sleight_of_hand_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_chemistry"/></td>            <td class="sheet-znz-label">                Chemistry                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_chemistry_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_chemistry_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_chemistry_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_engineering"/></td>            <td class="sheet-znz-label">                Engineering                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_engineering_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_engineering_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_engineering_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_electrical"/></td>            <td class="sheet-znz-label">                Electrical                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_electrical_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_electrical_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_electrical_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_electronics"/></td>            <td class="sheet-znz-label">                Electronics                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_electronics_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_electronics_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_electronics_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_medicine"/></td>            <td class="sheet-znz-label">                Medicine                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_medicine_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_medicine_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_medicine_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_explosives"/></td>            <td class="sheet-znz-label">                Explosives                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_explosives_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_explosives_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_explosives_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_boat_piloting"/></td>            <td class="sheet-znz-label">                Boat Piloting                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_boat_piloting_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_boat_piloting_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_boat_piloting_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_plane_piloting"/></td>            <td class="sheet-znz-label">                Plane Piloting                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_plane_piloting_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_plane_piloting_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_plane_piloting_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_nature"/></td>            <td class="sheet-znz-label">                Nature                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_nature_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_nature_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_nature_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_tailoring"/></td>            <td class="sheet-znz-label">                Tailoring                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_tailoring_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_tailoring_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_tailoring_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_construction"/></td>            <td class="sheet-znz-label">                Construction                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_construction_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_construction_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_construction_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_gunsmmithing"/></td>            <td class="sheet-znz-label">                Gunsmithing                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_gunsmmithing_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_gunsmmithing_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_gunsmmithing_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_leatherworking"/></td>            <td class="sheet-znz-label">                Leatherworking                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_leatherworking_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_leatherworking_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_leatherworking_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_metalworking"/></td>            <td class="sheet-znz-label">                Metalworking                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_metalworking_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_metalworking_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_metalworking_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_husbandry"/></td>            <td class="sheet-znz-label">                Husbandry                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_husbandry_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_husbandry_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_husbandry_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_gardening"/></td>            <td class="sheet-znz-label">                Gardening                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_gardening_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_gardening_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_gardening_bonus"/>            </td>        </tr>    </table>            </div>            <div class="sheet-znz-block">    <table class="sheet-znz-skill-table">        <tr class="sheet-znz-header"><h2>Proficiencies</h2></tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_handguns"/></td>            <td class="sheet-znz-label">                Handguns                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_handguns_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_handguns_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_handguns_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_shotguns"/></td>            <td class="sheet-znz-label">                Shotguns                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_shotguns_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_shotguns_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_shotguns_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_rifles"/></td>            <td class="sheet-znz-label">                Rifles                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_rifles_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_rifles_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_rifles_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_projectile"/></td>            <td class="sheet-znz-label">                Projectiles                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_projectile_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_projectile_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_projectile_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_throwing"/></td>            <td class="sheet-znz-label">                Throwing                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_throwing_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_throwing_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_throwing_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_sharp_melee"/></td>            <td class="sheet-znz-label">                Sharp Melee                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_sharp_melee_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_sharp_melee_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_sharp_melee_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_blunt_melee"/></td>            <td class="sheet-znz-label">                Blunt Melee                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_blunt_melee_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_blunt_melee_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_blunt_melee_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_heavy_melee"/></td>            <td class="sheet-znz-label">                Heavy Melee                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_heavy_melee_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_heavy_melee_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_heavy_melee_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_unarmed"/></td>            <td class="sheet-znz-label">                Hand to Hand                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_unarmed_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_unarmed_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_unarmed_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_stealth"/></td>            <td class="sheet-znz-label">                Stealth                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_stealth_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_stealth_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_stealth_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_first_aid"/></td>            <td class="sheet-znz-label">                First Aid                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_first_aid_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_first_aid_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_first_aid_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_crafting"/></td>            <td class="sheet-znz-label">                Crafting                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_crafting_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_crafting_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_crafting_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_cooking"/></td>            <td class="sheet-znz-label">                Cooking                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_cooking_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_cooking_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_cooking_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_driving"/></td>            <td class="sheet-znz-label">                Driving                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_driving_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_driving_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_driving_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_investigation"/></td>            <td class="sheet-znz-label">                Investigation                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_investigation_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_investigation_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_investigation_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_orientation"/></td>            <td class="sheet-znz-label">                Orientation                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_orientation_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_orientation_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_orientation_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_swimming"/></td>            <td class="sheet-znz-label">                Swimming                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_swimming_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_swimming_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_swimming_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_climbing"/></td>            <td class="sheet-znz-label">                Climbing                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_climbing_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_climbing_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_climbing_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_negotiation"/></td>            <td class="sheet-znz-label">                Negotiation                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_negotiation_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_negotiation_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_negotiation_bonus"/>            </td>        </tr>        <tr>            <td class="sheet-znz-input"><input type="number" class="sheet-znz-line-input" name="attr_prof_performance"/></td>            <td class="sheet-znz-label">                Performance                 <input class="sheet-znz-hidden sheet-znz-bonus-checker-plus" type="checkbox" name="attr_prof_performance_bonus_check" value="positive" />                <input class="sheet-znz-hidden sheet-znz-bonus-checker-minus" type="checkbox" name="attr_prof_performance_bonus_check" value="negative" />                <span class="sheet-znz-mod sheet-znz-bonus-display" name="attr_prof_performance_bonus"/>            </td>        </tr>    </table>            </div>        </div>    </div>    <div class="sheet-znz-grid-main">        <div class="sheet-znz-area-status">            <div class="sheet-znz-row">    <div class="sheet-znz-field sheet-znz-stat-block">        <h2>Health</h2>        <input type="number" name="attr_health" value="40"/>        <div class="sheet-znz-description">            Max: <input type="number" class="sheet-znz-line-input sheet-znz-max" name="attr_health_max" value="40" />        </div>    </div>    <div class="sheet-znz-field sheet-znz-stat-block">        <h2>Sanity</h2>        <input type="number" name="attr_sanity" value="40"/>        <div class="sheet-znz-description">            Max: <input type="number" class="sheet-znz-line-input sheet-znz-max" name="attr_sanity_max" value="40" />        </div>    </div>    <div class="sheet-znz-field sheet-znz-stat-block">        <h2>Energy</h2>        <input type="number" name="attr_energy" value="40"/>        <div class="sheet-znz-description">            Max: <input type="number" class="sheet-znz-line-input sheet-znz-max" name="attr_energy_max" value="40" />        </div>    </div>    <div class="sheet-znz-field sheet-znz-stat-block">        <h2>EXP</h2>        <input type="number" name="attr_exp" value="0"/>        <div class="sheet-znz-description">            <div>10:stat | 20: skill/hit</div><div>30: attr | 60:ability</div>        </div>    </div>            </div>        </div><div class="sheet-znz-section-hit">    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-dice-prefixed-input sheet-znz-line-input">         <div class="sheet-znz-field-label"><h3>Ranged Hit Roll</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_ranged_hit"  min="" max="" value="10" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-dice-prefixed-input sheet-znz-line-input">         <div class="sheet-znz-field-label"><h3>Melee Hit Roll</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_melee_hit"  min="" max="" value="10" ></input>        </div>    </div>        </div>        <div class="sheet-znz-section-weapons sheet-znz-equipped">            <div class="sheet-znz-block sheet-znz-equipped-ranged">                <h2>Equipped Ranged Weapon</h2><div class="sheet-znz-item-card-equipped">    <div class="sheet-znz-item-header">    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_item_type" value="ranged"/>    </div>    <div class="sheet-znz-field sheet-znz-field-text sheet-center ">         <div class="sheet-znz-field-label"><h3>Name</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_ranged_weapon_item_name"  ></input></div>    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_item_weight" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_item_quantity" />    </div>    </div>    <div class="sheet-znz-item-row-area">    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_melee_type" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_melee_durability" />        <input type="hidden" name="attr_equipped_ranged_weapon_melee_durability_max" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_melee_energy_cost" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_melee_damage" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_melee_crit_bonus" />    </div>    <div class="sheet-znz-field sheet-znz-field-select  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Ranged Type</h3></div>        <div class="sheet-znz-field-input">            <select name="attr_equipped_ranged_weapon_ranged_type" value="handgun">                <option value="" ></option>                <option value="prof_handguns" >Handguns</option>                <option value="prof_shotguns" >Shotguns</option>                <option value="prof_rifles" >Rifles</option>                <option value="prof_projectile" >Projectiles</option>                <option value="prof_throwing" >Throwing</option>            </select>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Ammo</h3></div>        <div class="sheet-znz-field-input">                <div class="sheet-znz-flex">                    <div class="sheet-znz-number">                        <input type="number" name="attr_equipped_ranged_weapon_ranged_ammo"   min="0" max="" value=""></input>                    </div>                    <div class="sheet-divider">/</div>                    <div class="sheet-znz-number-max">                        <input type="number" name="attr_equipped_ranged_weapon_ranged_ammo_max"   value=""></input>                    </div>                  </div>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Reloads</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_equipped_ranged_weapon_ranged_reloads"  min="0" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text sheet-znz-dice-field sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Ranged Damage</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_ranged_weapon_ranged_damage"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Ranged Crit Bonus</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_equipped_ranged_weapon_weapon_crit_bonus"  min="1" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Effective Range</h3></div>        <div class="sheet-znz-field-input">                <div class="sheet-znz-flex">                    <div class="sheet-znz-number">                        <input type="number" name="attr_equipped_ranged_weapon_weapon_range"   min="1" max="" value=""></input>                    </div>                    <div class="sheet-divider">/</div>                    <div class="sheet-znz-number-max">                        <input type="number" name="attr_equipped_ranged_weapon_weapon_range_max"   value=""></input>                    </div>                  </div>        </div>    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_ranged_weapon_equipment_dmg_reduce" />    </div>    <div class="sheet-znz-field-hidden">        <input type="hidden" name="attr_equipped_ranged_weapon_equipment_stat_0" />        <input type="hidden" name="attr_equipped_ranged_weapon_equipment_stat_0_mod" />        <input type="hidden" name="attr_equipped_ranged_weapon_equipment_stat_1" />        <input type="hidden" name="attr_equipped_ranged_weapon_equipment_stat_1_mod" />        <input type="hidden" name="attr_equipped_ranged_weapon_equipment_stat_2" />        <input type="hidden" name="attr_equipped_ranged_weapon_equipment_stat_2_mod" />    </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text  ">         <div class="sheet-znz-field-label"><h3>Effect</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_ranged_weapon_item_effect"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-textarea  ">         <div class="sheet-znz-field-label"><h3>Notes</h3></div>        <div class="sheet-znz-field-input"><textarea name="attr_equipped_ranged_weapon_item_note"></textarea></div>    </div>    <div class="sheet-znz-item-buttons">            <button type="action" name="act_rangedattack"> Ranged Attack </button>        <button type="action" name="act_unequip_ranged">Unequip Ranged </button>    </div></div>            </div>            <div class="sheet-znz-block sheet-znz-equipped-melee">                <h2>Equipped Melee Weapon</h2><div class="sheet-znz-item-card-equipped">    <div class="sheet-znz-item-header">    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_item_type" value="melee"/>    </div>    <div class="sheet-znz-field sheet-znz-field-text sheet-center ">         <div class="sheet-znz-field-label"><h3>Name</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_melee_weapon_item_name"  ></input></div>    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_item_weight" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_item_quantity" />    </div>    </div>    <div class="sheet-znz-item-row-area">    <div class="sheet-znz-field sheet-znz-field-select  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Melee Type</h3></div>        <div class="sheet-znz-field-input">            <select name="attr_equipped_melee_weapon_melee_type" value="blunt">                <option value="" ></option>                <option value="prof_sharp_melee" >Sharp Melee</option>                <option value="prof_blunt_melee" >Blunt Melee</option>                <option value="prof_heavy_melee" >Heavy Melee</option>            </select>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Durability</h3></div>        <div class="sheet-znz-field-input">                <div class="sheet-znz-flex">                    <div class="sheet-znz-number">                        <input type="number" name="attr_equipped_melee_weapon_melee_durability"   min="0" max="" value=""></input>                    </div>                    <div class="sheet-divider">/</div>                    <div class="sheet-znz-number-max">                        <input type="number" name="attr_equipped_melee_weapon_melee_durability_max"   value=""></input>                    </div>                  </div>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Energy Cost</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_equipped_melee_weapon_melee_energy_cost"  min="1" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text sheet-znz-dice-field sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Melee Damage</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_melee_weapon_melee_damage"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Melee Crit Bonus</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_equipped_melee_weapon_melee_crit_bonus"  min="1" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_ranged_type" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_ranged_ammo" />        <input type="hidden" name="attr_equipped_melee_weapon_ranged_ammo_max" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_ranged_reloads" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_ranged_damage" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_weapon_crit_bonus" />    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Effective Range</h3></div>        <div class="sheet-znz-field-input">                <div class="sheet-znz-flex">                    <div class="sheet-znz-number">                        <input type="number" name="attr_equipped_melee_weapon_weapon_range"   min="1" max="" value=""></input>                    </div>                    <div class="sheet-divider">/</div>                    <div class="sheet-znz-number-max">                        <input type="number" name="attr_equipped_melee_weapon_weapon_range_max"   value=""></input>                    </div>                  </div>        </div>    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_melee_weapon_equipment_dmg_reduce" />    </div>    <div class="sheet-znz-field-hidden">        <input type="hidden" name="attr_equipped_melee_weapon_equipment_stat_0" />        <input type="hidden" name="attr_equipped_melee_weapon_equipment_stat_0_mod" />        <input type="hidden" name="attr_equipped_melee_weapon_equipment_stat_1" />        <input type="hidden" name="attr_equipped_melee_weapon_equipment_stat_1_mod" />        <input type="hidden" name="attr_equipped_melee_weapon_equipment_stat_2" />        <input type="hidden" name="attr_equipped_melee_weapon_equipment_stat_2_mod" />    </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text  ">         <div class="sheet-znz-field-label"><h3>Effect</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_melee_weapon_item_effect"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-textarea  ">         <div class="sheet-znz-field-label"><h3>Notes</h3></div>        <div class="sheet-znz-field-input"><textarea name="attr_equipped_melee_weapon_item_note"></textarea></div>    </div>    <div class="sheet-znz-item-buttons">            <button type="action" name="act_meleeattack"> Melee Attack </button>        <button type="action" name="act_unequip_melee">Unequip Melee </button>    </div></div>            </div>        </div>        <div class="sheet-znz-section-equipment sheet-znz-equipped">            <div class="sheet-znz-block sheet-znz-equipped-head">                <h2>Equipped on Head</h2><div class="sheet-znz-item-card-equipped">    <div class="sheet-znz-item-header">    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_item_type" value="head"/>    </div>    <div class="sheet-znz-field sheet-znz-field-text sheet-center ">         <div class="sheet-znz-field-label"><h3>Name</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_head_item_name"  ></input></div>    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_item_weight" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_item_quantity" />    </div>    </div>    <div class="sheet-znz-item-row-area">    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_melee_type" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_melee_durability" />        <input type="hidden" name="attr_equipped_head_melee_durability_max" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_melee_energy_cost" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_melee_damage" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_melee_crit_bonus" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_ranged_type" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_ranged_ammo" />        <input type="hidden" name="attr_equipped_head_ranged_ammo_max" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_ranged_reloads" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_ranged_damage" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_weapon_crit_bonus" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_head_weapon_range" />        <input type="hidden" name="attr_equipped_head_weapon_range_max" />    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Damage Reduction</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_equipped_head_equipment_dmg_reduce"  min="" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-equipment-stat-repeater sheet-znz-equipment-field">        <h3 class="sheet-znz-repeater-label">            Equipment Stats        </h3>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_equipped_head_equipment_stat_0">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_equipped_head_equipment_stat_0_mod"></input>                </div>            </div>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_equipped_head_equipment_stat_1">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_equipped_head_equipment_stat_1_mod"></input>                </div>            </div>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_equipped_head_equipment_stat_2">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_equipped_head_equipment_stat_2_mod"></input>                </div>            </div>    </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text  ">         <div class="sheet-znz-field-label"><h3>Effect</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_head_item_effect"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-textarea  ">         <div class="sheet-znz-field-label"><h3>Notes</h3></div>        <div class="sheet-znz-field-input"><textarea name="attr_equipped_head_item_note"></textarea></div>    </div>    <div class="sheet-znz-item-buttons">        <button type="action" name="act_unequip_head">Unequip Head </button>    </div></div>            </div>            <div class="sheet-znz-block sheet-znz-equipped-body">                <h2>Equipped on Body</h2><div class="sheet-znz-item-card-equipped">    <div class="sheet-znz-item-header">    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_item_type" value="body"/>    </div>    <div class="sheet-znz-field sheet-znz-field-text sheet-center ">         <div class="sheet-znz-field-label"><h3>Name</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_body_item_name"  ></input></div>    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_item_weight" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_item_quantity" />    </div>    </div>    <div class="sheet-znz-item-row-area">    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_melee_type" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_melee_durability" />        <input type="hidden" name="attr_equipped_body_melee_durability_max" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_melee_energy_cost" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_melee_damage" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_melee_crit_bonus" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_ranged_type" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_ranged_ammo" />        <input type="hidden" name="attr_equipped_body_ranged_ammo_max" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_ranged_reloads" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_ranged_damage" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_weapon_crit_bonus" />    </div>    <div class="sheet-znz-field-hidden">            <input type="hidden" name="attr_equipped_body_weapon_range" />        <input type="hidden" name="attr_equipped_body_weapon_range_max" />    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Damage Reduction</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_equipped_body_equipment_dmg_reduce"  min="" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-equipment-stat-repeater sheet-znz-equipment-field">        <h3 class="sheet-znz-repeater-label">            Equipment Stats        </h3>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_equipped_body_equipment_stat_0">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_equipped_body_equipment_stat_0_mod"></input>                </div>            </div>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_equipped_body_equipment_stat_1">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_equipped_body_equipment_stat_1_mod"></input>                </div>            </div>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_equipped_body_equipment_stat_2">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_equipped_body_equipment_stat_2_mod"></input>                </div>            </div>    </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text  ">         <div class="sheet-znz-field-label"><h3>Effect</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_equipped_body_item_effect"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-textarea  ">         <div class="sheet-znz-field-label"><h3>Notes</h3></div>        <div class="sheet-znz-field-input"><textarea name="attr_equipped_body_item_note"></textarea></div>    </div>    <div class="sheet-znz-item-buttons">        <button type="action" name="act_unequip_body">Unequip Body </button>    </div></div>            </div>        </div>    </div>    <div class="sheet-znz-grid-full-width">        <div class="sheet-znz-area-quirks">            <div class="sheet-znz-section-quirk sheet-znz-section-abilities">            <div class="sheet-znz-flex sheet-spaced-between">                <h2>Abilities</h2>                <button type="action" name="act_randomizeability">Random Ability </button>            </div>    <div class="sheet-znz-block-quirk">        <fieldset class="repeating_abilities">            <div class="sheet-znz-quirk">                <div class="sheet-znz-field-quirk-select">                    <select name="attr_ability" readonly>                        <option value="none">Select Ability</option>                        <option value="mulligan">Mulligan</option>                        <option value="high_octane">High Octane</option>                        <option value="triage">Triage</option>                        <option value="cheerleader">Cheerleader</option>                        <option value="encyclopedia">Encyclopedia</option>                        <option value="speedster">Gotta Go Fast</option>                        <option value="Martial Artist">Martial Artist</option>                        <option value="sniper">Sniper</option>                    </select>                </div>                <div class="sheet-znz-field-quirk-descript">                    <textarea type="text" readonly name="attr_ability_text" value="Select an ability to see its description."></textarea>                </div>            </div>        </fieldset>    </div>            </div>            <div class="sheet-znz-section-quirk sheet-znz-section-flaws">                <div class="sheet-znz-flex sheet-spaced-between">                    <h2>Flaws</h2>                    <button type="action" name="act_randomizeflaw">Random Flaw </button>                </div>    <div class="sheet-znz-block-quirk">        <fieldset class="repeating_flaws">            <div class="sheet-znz-quirk">                <div class="sheet-znz-field-quirk-select">                    <select name="attr_flaw" readonly>                        <option value="none">Select Flaw</option>                        <option value="illfated">Ill-Fated</option>                        <option value="fainthearted">Fainthearted</option>                        <option value="clumsy">Clumsy</option>                        <option value="alcoholic">Alcoholic</option>                        <option value="vulnerable">Vulnerable</option>                        <option value="nearsighted">Nearsighted</option>                        <option value="curious">Curious</option>                        <option value="diabetic">Diabetic</option>                    </select>                </div>                <div class="sheet-znz-field-quirk-descript">                    <textarea type="text" readonly name="attr_flaw_text" value="Select a flaw to see its description"></textarea>                </div>            </div>        </fieldset>    </div>            </div>        </div>        <div class="sheet-znz-area-inventory">            <div class="sheet-znz-section-inventory">                <h2>Inventory</h2>                <div class="sheet-znz-inventory-controls">                    <button type="action"name="act_inventoryshow">Expand All</button>                    <button type="action"name="act_inventoryhide">Collapse All</button>                </div>                <div class="sheet-znz-inventory-weight">                    <div class="sheet-znz-field">                        <h3>Total Weight</h3>                        <input class="sheet-znz-hidden sheet-znz-inventory-weight-check" type="checkbox" name="attr_inv_weight_total_check">                        <input class="sheet-znz-inventory-weight" type="number" name="attr_inv_weight_total" min="0" readonly>                    </div>                    <div class="sheet-znz-field">                        <h3>Max Weight</h3>                        <input type="number" name="attr_inv_weight_max" min="0">                    </div>                </div>                <div class="sheet-znz-inventory-items">                    <fieldset class="repeating_inventory"><div class="sheet-znz-item-card-inventory">    <div class="sheet-znz-item-header">    <div class="sheet-znz-field sheet-znz-field-text sheet-center ">         <div class="sheet-znz-field-label"><h3>Name</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_inv_item_name"  ></input></div>    </div>        <div class="sheet-znz-row">    <div class="sheet-znz-field sheet-znz-field-select  ">         <div class="sheet-znz-field-label"><h3>Item Type</h3></div>        <div class="sheet-znz-field-input">            <select name="attr_inv_item_type" value="misc">                <option value="misc" >Misc</option>                <option value="melee" >Melee Weapon</option>                <option value="ranged" >Ranged Weapon</option>                <option value="head" >Head</option>                <option value="body" >Body</option>            </select>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number sheet-center ">         <div class="sheet-znz-field-label"><h3>Weight</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_inv_item_weight"  min="0" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number sheet-center ">         <div class="sheet-znz-field-label"><h3>Quantity</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_inv_item_quantity"  min="0" max="" value="" ></input>        </div>    </div>        </div>    </div>    <div class="sheet-znz-expand-button sheet-znz-expandable-section">        <input class="sheet-znz-expand-toggle" type="checkbox" name="attr_expand_toggle" checked>        <div class="sheet-label sheet-znz-expand-text" for="attr_expand_toggle"><span>Show Item Details</span></div>        <div class="sheet-label sheet-znz-collapse-text" for="attr_expand_toggle"><span>Hide Item Details</span></div>    </div>        <input class="sheet-znz-hidden sheet-znz-expand" type="checkbox" name="attr_expand_toggle" checked>        <div class="sheet-znz-expandable">    <div class="sheet-znz-item-row-area">            <input class="sheet-znz-hidden sheet-znz-item-type-1" type="checkbox" name="attr_inv_item_type" value="misc" checked />            <input class="sheet-znz-hidden sheet-znz-item-type-2" type="checkbox" name="attr_inv_item_type" value="melee"  />            <input class="sheet-znz-hidden sheet-znz-item-type-3" type="checkbox" name="attr_inv_item_type" value="ranged"  />            <input class="sheet-znz-hidden sheet-znz-item-type-4" type="checkbox" name="attr_inv_item_type" value="head"  />            <input class="sheet-znz-hidden sheet-znz-item-type-5" type="checkbox" name="attr_inv_item_type" value="body"  />    <div class="sheet-znz-field sheet-znz-field-select  sheet-znz-item-row sheet-znz-field sheet-znz-melee-field">         <div class="sheet-znz-field-label"><h3>Melee Type</h3></div>        <div class="sheet-znz-field-input">            <select name="attr_inv_melee_type" value="blunt">                <option value="" ></option>                <option value="prof_sharp_melee" >Sharp Melee</option>                <option value="prof_blunt_melee" >Blunt Melee</option>                <option value="prof_heavy_melee" >Heavy Melee</option>            </select>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row sheet-znz-field sheet-znz-melee-field">         <div class="sheet-znz-field-label"><h3>Durability</h3></div>        <div class="sheet-znz-field-input">                <div class="sheet-znz-flex">                    <div class="sheet-znz-number">                        <input type="number" name="attr_inv_melee_durability"   min="0" max="" value=""></input>                    </div>                    <div class="sheet-divider">/</div>                    <div class="sheet-znz-number-max">                        <input type="number" name="attr_inv_melee_durability_max"   value=""></input>                    </div>                  </div>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row sheet-znz-field sheet-znz-melee-field">         <div class="sheet-znz-field-label"><h3>Energy Cost</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_inv_melee_energy_cost"  min="1" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text sheet-znz-dice-field sheet-znz-item-row sheet-znz-field sheet-znz-melee-field">         <div class="sheet-znz-field-label"><h3>Melee Damage</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_inv_melee_damage"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row sheet-znz-field sheet-znz-melee-field">         <div class="sheet-znz-field-label"><h3>Melee Crit Bonus</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_inv_melee_crit_bonus"  min="1" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-select  sheet-znz-item-row sheet-znz-field sheet-znz-ranged-field">         <div class="sheet-znz-field-label"><h3>Ranged Type</h3></div>        <div class="sheet-znz-field-input">            <select name="attr_inv_ranged_type" value="handgun">                <option value="" ></option>                <option value="prof_handguns" >Handguns</option>                <option value="prof_shotguns" >Shotguns</option>                <option value="prof_rifles" >Rifles</option>                <option value="prof_projectile" >Projectiles</option>                <option value="prof_throwing" >Throwing</option>            </select>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row sheet-znz-field sheet-znz-ranged-field">         <div class="sheet-znz-field-label"><h3>Ammo</h3></div>        <div class="sheet-znz-field-input">                <div class="sheet-znz-flex">                    <div class="sheet-znz-number">                        <input type="number" name="attr_inv_ranged_ammo"   min="0" max="" value=""></input>                    </div>                    <div class="sheet-divider">/</div>                    <div class="sheet-znz-number-max">                        <input type="number" name="attr_inv_ranged_ammo_max"   value=""></input>                    </div>                  </div>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row sheet-znz-field sheet-znz-ranged-field">         <div class="sheet-znz-field-label"><h3>Reloads</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_inv_ranged_reloads"  min="0" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text sheet-znz-dice-field sheet-znz-item-row sheet-znz-field sheet-znz-ranged-field">         <div class="sheet-znz-field-label"><h3>Ranged Damage</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_inv_ranged_damage"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row sheet-znz-field sheet-znz-ranged-field">         <div class="sheet-znz-field-label"><h3>Ranged Crit Bonus</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_inv_weapon_crit_bonus"  min="1" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row sheet-znz-field sheet-znz-standard-field">         <div class="sheet-znz-field-label"><h3>Effective Range</h3></div>        <div class="sheet-znz-field-input">                <div class="sheet-znz-flex">                    <div class="sheet-znz-number">                        <input type="number" name="attr_inv_weapon_range"   min="1" max="" value=""></input>                    </div>                    <div class="sheet-divider">/</div>                    <div class="sheet-znz-number-max">                        <input type="number" name="attr_inv_weapon_range_max"   value=""></input>                    </div>                  </div>        </div>    </div>    <div class="sheet-znz-field sheet-znz-field-number  sheet-znz-item-row">         <div class="sheet-znz-field-label"><h3>Damage Reduction</h3></div>        <div class="sheet-znz-field-input">                <input type="number" name="attr_inv_equipment_dmg_reduce"  min="" max="" value="" ></input>        </div>    </div>    <div class="sheet-znz-field sheet-znz-equipment-stat-repeater ">        <h3 class="sheet-znz-repeater-label">            Equipment Stats        </h3>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_inv_equipment_stat_0">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_inv_equipment_stat_0_mod"></input>                </div>            </div>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_inv_equipment_stat_1">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_inv_equipment_stat_1_mod"></input>                </div>            </div>            <div class="sheet-znz-repeater-input">                <div class="sheet-znz-equipment-stat">                    <select name="attr_inv_equipment_stat_2">                        <option value="" default></option>                            <option value="strength">Strength</option>                            <option value="dexterity">Dexterity</option>                            <option value="perception">Perception</option>                            <option value="intelligence">Intelligence</option>                            <option value="tenacity">Tenacity</option>                            <option value="humanity">Humanity</option>                            <option value="luck">Luck</option>                            <option value="prof_handguns">Handguns</option>                            <option value="prof_shotguns">Shotguns</option>                            <option value="prof_rifles">Rifles</option>                            <option value="prof_projectile">Projectiles</option>                            <option value="prof_throwing">Throwing</option>                            <option value="prof_sharp_melee">Sharp Melee</option>                            <option value="prof_blunt_melee">Blunt Melee</option>                            <option value="prof_heavy_melee">Heavy Melee</option>                            <option value="prof_unarmed">Hand to Hand</option>                            <option value="prof_stealth">Stealth</option>                            <option value="prof_first_aid">First Aid</option>                            <option value="prof_crafting">Crafting</option>                            <option value="prof_cooking">Cooking</option>                            <option value="prof_driving">Driving</option>                            <option value="prof_investigation">Investigation</option>                            <option value="prof_orientation">Orientation</option>                            <option value="prof_swimming">Swimming</option>                            <option value="prof_climbing">Climbing</option>                            <option value="prof_negotiation">Negotiation</option>                            <option value="prof_performance">Performance</option>                            <option value="lockpicking">Lockpicking</option>                            <option value="hotwiring">Hotwiring</option>                            <option value="hacking">Hacking</option>                            <option value="sleight_of_hand">Sleight of Hand</option>                            <option value="chemistry">Chemistry</option>                            <option value="engineering">Engineering</option>                            <option value="electrical">Electrical</option>                            <option value="electronics">Electronics</option>                            <option value="medicine">Medicine</option>                            <option value="explosives">Explosives</option>                            <option value="boat_piloting">Boat Piloting</option>                            <option value="plane_piloting">Plane Piloting</option>                            <option value="nature">Nature</option>                            <option value="tailoring">Tailoring</option>                            <option value="construction">Construction</option>                            <option value="gunsmmithing">Gunsmithing</option>                            <option value="leatherworking">Leatherworking</option>                            <option value="metalworking">Metalworking</option>                            <option value="husbandry">Husbandry</option>                            <option value="gardening">Gardening</option>                    </select>                </div>                <div class="sheet-znz-equipment-stat-mod">                    <input type="number" name="attr_inv_equipment_stat_2_mod"></input>                </div>            </div>    </div>    </div>    <div class="sheet-znz-field sheet-znz-field-text  ">         <div class="sheet-znz-field-label"><h3>Effect</h3></div>        <div class="sheet-znz-field-input"><input type="text" name="attr_inv_item_effect"  ></input></div>    </div>    <div class="sheet-znz-field sheet-znz-field-textarea  ">         <div class="sheet-znz-field-label"><h3>Notes</h3></div>        <div class="sheet-znz-field-input"><textarea name="attr_inv_item_note"></textarea></div>    </div>    <div class="sheet-znz-item-buttons">        <input class="sheet-znz-hidden sheet-znz-item-type-1" type="checkbox" name="attr_inv_item_type" value="misc" checked />        <input class="sheet-znz-hidden sheet-znz-item-type-2" type="checkbox" name="attr_inv_item_type" value="melee"  />        <input class="sheet-znz-hidden sheet-znz-item-type-3" type="checkbox" name="attr_inv_item_type" value="ranged"  />        <input class="sheet-znz-hidden sheet-znz-item-type-4" type="checkbox" name="attr_inv_item_type" value="head"  />        <input class="sheet-znz-hidden sheet-znz-item-type-5" type="checkbox" name="attr_inv_item_type" value="body"  />            <button type="action" class="sheet-znz-melee-field" name="act_equipmelee">Equip Melee Weapon</button>            <button type="action" class="sheet-znz-ranged-field" name="act_equipranged">Equip Ranged Weapon</button>            <button type="action" class="sheet-znz-head-field" name="act_equiphead">Equip Head</button>            <button type="action" class="sheet-znz-body-field" name="act_equipbody">Equip Body</button>    </div>        </div></div>                    </fieldset>                </div>            </div>        </div>    </div></div><script type="text/worker">    /** inject:workers **/    //Always appears above other sheet workers.const global = {"headPrefix":"equipped_head","bodyPrefix":"equipped_body","rangedPrefix":"equipped_ranged_weapon","meleePrefix":"equipped_melee_weapon","invPrefix":"inv"};    /* ===== PARAMETERS ==========destinations = the name of the attribute that stores the total quantity        can be a single attribute, or an array: ['total_cost', 'total_weight']        If more than one, the matching fields must be in the same order.     section = name of repeating fieldset, without the repeating_    fields = the name of the attribute field to be summed          destination and fields both can be a single attribute: 'weight'          or an array of attributes: ['weight','number','equipped']*/const repeatingSum = (destinations, section, fields) => {    if (!Array.isArray(destinations)) destinations = [destinations.replace(/\s/g, '').split(',')];    if (!Array.isArray(fields)) fields = [fields.replace(/\s/g, '').split(',')];    getSectionIDs(`repeating_${section}`, idArray => {        const attrArray = idArray.reduce((m, id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))], []);        getAttrs([...attrArray], v => {            const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;            const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);            const output = {};            destinations.forEach((destination, index) => {                output[destination] = idArray.reduce((total, id) => total + getValue(section, id, fields[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * getValue(section, id, mult), 1), 0);            });            setAttrs(output);        });     }); };    const attrData = ["strength","dexterity","perception","intelligence","tenacity","humanity","luck"];for (let attr of attrData){    on( 'change:' + attr, function(){        getAttrs([attr], function(values) {            var attrSet = {                [attr + '_mod'] : (parseInt(values[attr], 10) - 3)            }            setAttrs(attrSet);        });    });}    const equipmentStatsFields = {"modFields":["equipped_head_equipment_stat_0","equipped_body_equipment_stat_0","equipped_head_equipment_stat_0_mod","equipped_body_equipment_stat_0_mod","equipped_head_equipment_stat_1","equipped_body_equipment_stat_1","equipped_head_equipment_stat_1_mod","equipped_body_equipment_stat_1_mod","equipped_head_equipment_stat_2","equipped_body_equipment_stat_2","equipped_head_equipment_stat_2_mod","equipped_body_equipment_stat_2_mod"],"bonusFields":["strength","dexterity","perception","intelligence","tenacity","humanity","luck","prof_handguns","prof_shotguns","prof_rifles","prof_projectile","prof_throwing","prof_sharp_melee","prof_blunt_melee","prof_heavy_melee","prof_unarmed","prof_stealth","prof_first_aid","prof_crafting","prof_cooking","prof_driving","prof_investigation","prof_orientation","prof_swimming","prof_climbing","prof_negotiation","prof_performance","lockpicking","hotwiring","hacking","sleight_of_hand","chemistry","engineering","electrical","electronics","medicine","explosives","boat_piloting","plane_piloting","nature","tailoring","construction","gunsmmithing","leatherworking","metalworking","husbandry","gardening"]};var equippedMods = equipmentStatsFields.modFields,    bonusFields = equipmentStatsFields.bonusFields;var changeText = 'change:' + equippedMods.join(' change:');on(changeText, function(eventInfo){    getAttrs(equippedMods, function(values){        // Reduce bonusFields (attrs and skills) into an object        var attrSet = bonusFields.reduce( (current, item) => {            current[item + "_bonus"] = 0;            //check if values has this selected. If so, added it.            for (mod of equippedMods){                if ( values[mod] == item && values[mod + "_mod"].length){                    current[item + "_bonus"] += parseInt(values[mod + "_mod"], 10);                }            }            //check if 0 or positive/negative            current[item + "_bonus_check"] = (current[item + "_bonus"] == 0) ? "none" : (current[item + "_bonus"] < 0) ? "negative" : "positive";            return current;        }, {});        setAttrs(attrSet);    });});    const counterData = [{"attr_name":"attrib_count","attr_list":["strength","dexterity","perception","intelligence","tenacity","humanity","luck"]},{"attr_name":"stats_count","attr_list":["health_max","sanity_max","energy_max","exp_max"]},{"attr_name":"skills_count","attr_list":["lockpicking","hotwiring","hacking","sleight_of_hand","chemistry","engineering","electrical","electronics","medicine","explosives","boat_piloting","plane_piloting","nature","tailoring","construction","gunsmmithing","leatherworking","metalworking","husbandry","gardening"]},{"attr_name":"profs_count","attr_list":["prof_handguns","prof_shotguns","prof_rifles","prof_projectile","prof_throwing","prof_sharp_melee","prof_blunt_melee","prof_heavy_melee","prof_unarmed","prof_stealth","prof_first_aid","prof_crafting","prof_cooking","prof_driving","prof_investigation","prof_orientation","prof_swimming","prof_climbing","prof_negotiation","prof_performance"]}];for (let count of counterData){    let changeStr = count.attr_list.join(' change:');    changeStr = 'change:' + changeStr;    on( changeStr, function(){        getAttrs(count.attr_list, function(values) {            let vals = Object.values(values).map( (x) => { return parseInt(x,10) || 0}),            valSum = vals.reduce((a,b) => a + b, 0);            let attrSet = {};            attrSet[count.attr_name] = valSum;            setAttrs(attrSet);        });    });}    const itemFields = {"fieldList":["item_type","item_name","item_weight","item_quantity","melee_type","melee_durability","melee_durability_max","melee_energy_cost","melee_damage","melee_crit_bonus","ranged_type","ranged_ammo","ranged_ammo_max","ranged_reloads","ranged_damage","weapon_crit_bonus","weapon_range","weapon_range_max","equipment_dmg_reduce","equipment_stat_0","equipment_stat_0_mod","equipment_stat_1","equipment_stat_1_mod","equipment_stat_2","equipment_stat_2_mod","item_effect","item_note"],"ignoreEmpty":"item_type"};var fieldList = itemFields.fieldList,    ignoreEmpty = itemFields.ignoreEmpty;/*** Unequip Button Actions ***/on("clicked:unequip_melee", function(eventInfo){    unequipItem(global.meleePrefix);});on("clicked:unequip_ranged", function(eventInfo){    unequipItem(global.rangedPrefix);});on("clicked:unequip_head", function(eventInfo){    unequipItem(global.headPrefix);});on("clicked:unequip_body", function(eventInfo){    unequipItem(global.bodyPrefix);});/*** Equip Button Actions ***/on("clicked:repeating_inventory:equipmelee", function(eventInfo){    const rowId = getButtonRowId(eventInfo);    equipItem(global.meleePrefix, global.invPrefix, rowId);});on("clicked:repeating_inventory:equipranged", function(eventInfo){    const rowId = getButtonRowId(eventInfo);    equipItem(global.rangedPrefix, global.invPrefix, rowId);});on("clicked:repeating_inventory:equiphead", function(eventInfo){    const rowId = getButtonRowId(eventInfo);    equipItem(global.headPrefix, global.invPrefix, rowId);});on("clicked:repeating_inventory:equipbody", function(eventInfo){    const rowId = getButtonRowId(eventInfo);    equipItem(global.bodyPrefix, global.invPrefix, rowId);});function equipItem(eqPrefix, invPrefix, rowId){    var invFields = prefixFields(rowId + "_" + invPrefix, fieldList),        equippedFields = prefixFields(eqPrefix, fieldList),        bothFields = invFields.concat(equippedFields);    getAttrs(bothFields, function(values){        var equipEmpty = true,            invEmpty = true;        /** Validate fields aren't empty **/        for (let field of invFields) {            if (!field.endsWith(ignoreEmpty) && values[field].length > 0){ //dont check item type is empty or else empty items never get caught as item type shouldnt be empty                invEmpty = false;                break;            }        }        for (let field of equippedFields) {            if (!field.endsWith(ignoreEmpty) && values[field].length > 0){                equipEmpty = false;                break;            }        }        if (invEmpty) { return;} //don't do anything if the item to be equipped is empty.        /** Do the data transposing */        var attrSet = {};        //set the equipped fields from inventory fields        for (const field of fieldList) { //we have to restart back to fieldList now for ease.            attrSet[eqPrefix + "_" + field] = values[rowId + "_" + invPrefix + "_" + field];         }        //If equipped fields aren't empty, then we can add equipped back to the inventory        if (!equipEmpty) {            for (const field of fieldList) {                attrSet[rowId + "_" + invPrefix + "_" + field] = values[eqPrefix + "_" + field];             }        }        removeRepeatingRow(rowId);        setAttrs(attrSet);    });}function unequipItem(prefix){    var equippedFields = prefixFields(prefix, fieldList);    getAttrs(equippedFields, function(values){        //check if every field is empty, and return if it is.        if (Object.keys(values).every(function(key, element){            if (key.endsWith(ignoreEmpty)){ return true}; //Item Type edge case - Item Type should never be empty on an equipped item so we have to ignore this one. There's a bug here if you have another field that ends with the same attr_name, but whatever            return values[key].length == 0; //length check        })) { return; }         var attrSet = createUnequipObject(prefix, global.invPrefix, values)        setAttrs(attrSet);    });}/** * Generates an object for unequipping an item, which can be passed directly into setAttrs  * @param {string} prefix - The Prefix for an Equipped Item  * @param {string} invPrefix - The Prefix for an Inventory Item * @param {object} values - An object containing field-value mappings, such as one generated by getAttrs */function createUnequipObject(prefix, invPrefix, values) {    var newInvRowId = generateRowID(),        attrSet = {};    //replace the prefix with repeating_{inventory}_{newRowid}    //the last underscore connecting to attr_name is already in place there with prefixFields    for (const prop in values){        let newProp = prop.replace(prefix, "repeating_inventory_" + newInvRowId + "_" + invPrefix);        attrSet[newProp] = values[prop];        if (prop)        attrSet[prop] = ""; //clear current    }       return attrSet;}function getButtonRowId(eventInfo){    var underscoreIndex = eventInfo.sourceAttribute.lastIndexOf("_");    return eventInfo.sourceAttribute.substr(0, underscoreIndex);}function prefixFields(prefix, fieldList){    return fieldList.map((x)=>{        return prefix + "_" + x;    })}    const weightFields = {"individual":"inv_item_weight","quantity":"inv_item_quantity","total":"inv_weight_total","max":"inv_weight_max","check":"inv_weight_total_check"};var individual = weightFields.individual,    quantity = weightFields.quantity,    max = weightFields.max,    total = weightFields.total,    check = weightFields.check;//Expand all item cardson("clicked:inventoryshow", function(){    getSectionIDs("inventory", function(idArray) {        var toggleArray = idArray.map(x => "repeating_inventory_" + x + "_expand_toggle");        getAttrs(toggleArray, function(value){            var attrSet = {}            Object.keys(value).forEach(val => attrSet[val] = "on");            setAttrs(attrSet);        });    });});//Collapse Item Cardson("clicked:inventoryhide", function(){    getSectionIDs("inventory", function(idArray) {        var toggleArray = idArray.map(x => "repeating_inventory_" + x + "_expand_toggle");        getAttrs(toggleArray, function(value){            var attrSet = {}            Object.keys(value).forEach(val => attrSet[val] = "off");            setAttrs(attrSet);        });    });});// Repeating Sum of inventory weighton('change:repeating_inventory:' + individual + ' change:repeating_inventory:' + quantity +' remove:repeating_inventory', function() {    repeatingSum(total,"inventory",[individual, quantity]);});// Set hidden checkbox if weight exceeds max to turn it redon('change:' + total, function() {    getAttrs([total, max, check], function(value){        let exceedWeight = false,            attrSet = {};        if (value[total] > value[max]) {            exceedWeight = true;        }        attrSet[check] = (exceedWeight) ? "on" : "off";        setAttrs(attrSet);    })});    const quirkData = {"abilityList":{"none":"Select an ability to see its description.","mulligan":"Two times a play session, you may re-roll any roll but must accept the results of the re-roll. You can refund any resources spent on the first roll.","high_octane":"You can spend 3 energy on your turn in order to take one additional action. This additional action can be an attack.","triage":"You can use an action to determine the exact health of up to three enemy targets. This can be repeated in a turn without an energy price. ","cheerleader":"You can give any player a +2 bonus to their next roll. You can do this during combat as an action but you can only do this 3 times a play session out of combat. ","encyclopedia":"You can attempt any skill roll even for a skill you don't possess by passing an Intelligence check first.","speedster":"Gain an additional 2 movement speed. During successful dodges, you can jump back 2 spaces.","Martial Artist":"Successful dodging gives you a free melee attack opportunity. Chance to receive Hard+ melee attack difficulty reduced.","sniper":"You can spend one action to give your ranged attack action in the same turn a +4 hit bonus. Increase Ranged "},"flawList":{"none":"Select a flaw to see its description","illfated":"Three times a play session, the ZM can force you to re-roll any roll. Any resources spent on the first roll are refunded.","fainthearted":"During most combat encounters and high-stress situations, you must roll a Tenacity check. If you fail the check, you lose your first turn.","clumsy":"You occasionally has accidents which can cause problems. \n\n You can sometimes prevent this accident by spending a certain amount of resources dictated by the ZM.","alcoholic":"Your character cannot rest unless they consume alcohol. \n\n Start the game with 5 uses of alcohol.  ","vulnerable":"Your character takes double damage.","nearsighted":"Every time you roll a critical fail, your glasses falls off. All Perception checks fail and ranged attacks receive Impossible+ difficulty until you put it back on.","curious":"","diabetic":"You need to take a shot of insulin every day in order to survive. If you do not take insulin each day, you will take a third of your max health. Start the game with 3 insulin in your inventory.  "},"repeatingAbility":"repeating_abilities","repeatingFlaw":"repeating_flaws","fullAbilityAttr":"repeating_abilities_ability","fullAbilityTextAttr":"repeating_abilities_ability_text","abilityAttr":"ability","fullFlawAttr":"repeating_flaws_flaw","fullFlawTextAttr":"repeating_flaws_flaw_text","flawAttr":"flaw"}; //imported via gulp.var abilityList = quirkData.abilityList,    flawList = quirkData.flawList,    repeatingAbility = quirkData.repeatingAbility,    repeatingFlaw = quirkData.repeatingFlaw,    abilityAttr = quirkData.abilityAttr,    fullAbilityAttr = quirkData.fullAbilityAttr,    fullAbilityTextAttr = quirkData.fullAbilityTextAttr,    flawAttr = quirkData.flawAttr,    fullFlawAttr = quirkData.fullFlawAttr,    fullFlawTextAttr = quirkData.fullFlawTextAttr;/*** Set Quirk Text ***/on("change:" + repeatingAbility + ":" + abilityAttr, function(eventInfo){    getAttrs([        repeatingAbility + "_" + abilityAttr    ], function(value){        var abilityName = value[fullAbilityAttr];        if (abilityName in abilityList){            attrSet = {};            attrSet[fullAbilityTextAttr] = abilityList[abilityName];            setAttrs(attrSet)        }    });});on("change:" + repeatingFlaw + ":" + flawAttr, function(eventInfo){    getAttrs([        repeatingFlaw + "_" + flawAttr    ], function(value){        var flawName = value[fullFlawAttr];        if (flawName in flawList){            attrSet = {};            attrSet[fullFlawTextAttr] = flawList[flawName];            setAttrs(attrSet);        }    });});/*** Randomize Button ****/on("clicked:randomizeflaw", function(){    let keys = Object.keys(flawList);    let randomKey = keys[keys.length * Math.random() << 0];    //Prevent it for being the Default option.     while (randomKey === "none"){        randomKey = keys[keys.length * Math.random() << 0];    }    var newId = generateRowID();    var newQuirk = {};    newQuirk[repeatingFlaw + "_" + newId + "_" + flawAttr] = randomKey;    setAttrs(newQuirk);});on("clicked:randomizeability", function(){    let keys = Object.keys(abilityList);    let randomKey = keys[keys.length * Math.random() << 0];    //Prevent it for being the Default option.     while (randomKey === "none"){        randomKey = keys[keys.length * Math.random() << 0];    }    var newId = generateRowID();    var newQuirk = {};    newQuirk[repeatingAbility + "_" + newId + "_" + abilityAttr] = randomKey;    setAttrs(newQuirk);});    /** endinject **/</script><rolltemplate class="sheet-rolltemplate-attackresult">    <div class="sheet-template-wrapper  {{hitStyle}}">        <div class="sheet-template-count">{{attackNo}}</div>        <div class="sheet-template-block sheet-template-hit">            <div class="sheet-template-block-header">Hit</div>            <div class="sheet-template-result"> {{hitRoll}}</div>            <div class="sheet-template-description">{{hitDescript}}</div>        </div>        <div class="sheet-template-block sheet-template-diff">            <div class="sheet-template-block-header">Difficulty</div>               <div class="sheet-template-result"> {{difficulty}}</div>            <div class="sheet-template-description">{{difficultyDescript}}</div>        </div>        <div class="sheet-template-block sheet-template-dmg">            <div class="sheet-template-block-header">Damage</div>            <div class="sheet-template-result"> {{damage}}</div>            <div class="sheet-template-description">{{damageDescript}}</div>        </div>    </div></rolltemplate>