var assert = require('assert');

// This was used for early testing of the calculation of Attacks from the attack script. It was a bit too manual to update and test since you'd have to copy 
// test data from roll20.


describe('Attack Results', function() {
    //The variables were manually copied from outputs on Roll20. You have to modify the script to output the logs and then just copy it here.
    describe('10 Attacks - Basic Calculation Test', function() {
        var ranged0 = {"type":"ranged","baseDifficulty":0,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":5,"hitRollTotal":8,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":2,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":1,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":7,"rawDamage":5,"damageRolls":[2,3]}],"finalDamage":59,"resourceUsed":10,"durabilityLost":0},
            ranged1 = {"type":"ranged","baseDifficulty":3,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":6,"hitRollTotal":9,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":11,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":5,"hitRollTotal":8,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":8,"hitRollTotal":11,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":9,"hitRollTotal":12,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":7,"hitRollTotal":10,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]}],"finalDamage":50,"resourceUsed":10,"durabilityLost":0},
            ranged2 = {"type":"ranged","baseDifficulty":6,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":7,"hitRollTotal":10,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":8,"hitRollTotal":11,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":9,"hitRollTotal":12,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":7,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":10,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]}],"finalDamage":27,"resourceUsed":10,"durabilityLost":0},
            ranged3 = {"type":"ranged","baseDifficulty":9,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":9,"hitRollTotal":12,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":8,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":10,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":10,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":7,"hitRollTotal":10,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":12,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":10,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":23,"resourceUsed":10,"durabilityLost":0},
            ranged4 = {"type":"ranged","baseDifficulty":12,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":10,"hitRollTotal":10,"difficulty":13,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[6,1]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":15,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":13,"rawDamage":11,"damageRolls":[5,6]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":14,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[1,6]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":14,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":10,"rawDamage":8,"damageRolls":[3,5]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":11,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":41,"resourceUsed":10,"durabilityLost":0},

            melee0 = {"type":"melee","baseDifficulty":0,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":4,"hitRollTotal":8,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]}],"finalDamage":52,"resourceUsed":10,"durabilityLost":0},
            melee1 = {"type":"melee","baseDifficulty":3,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":5,"hitRollTotal":9,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":6,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":8,"rawDamage":6,"damageRolls":[1,3,2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":4,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]}],"finalDamage":47,"resourceUsed":10,"durabilityLost":1},
            melee2 = {"type":"melee","baseDifficulty":6,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":2,"hitRollTotal":6,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":7,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":8,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]}],"finalDamage":27,"resourceUsed":10,"durabilityLost":2},
            melee3 = {"type":"melee","baseDifficulty":9,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":2,"hitRollTotal":6,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":12,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":14,"resourceUsed":10,"durabilityLost":1},
            melee4 = {"type":"melee","baseDifficulty":12,"numAttacks":10,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":7,"hitRollTotal":11,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":13,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":13,"rawDamage":11,"damageRolls":[4,4,3]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":13,"resourceUsed":10,"durabilityLost":0};
        
        it('Easy Attack: Verify Calculations', function(){
            verifyAttackJson(melee0, "melee");
            console.log(`Melee Attack Total Damage: ${melee0.finalDamage}`);
            verifyAttackJson(ranged0, "ranged");
            console.log(`Ranged Attack Total Damage: ${ranged0.finalDamage}`);
        });
        
        it('Medium Attack: Verify Calculations', function(){
            verifyAttackJson(melee1, "melee");
            console.log(`Melee Attack Total Damage: ${melee1.finalDamage}`);
            verifyAttackJson(ranged1, "ranged");
            console.log(`Ranged Attack Total Damage: ${ranged1.finalDamage}`);
        });

        it('Hard Attack: Verify Calculations', function(){
            verifyAttackJson(melee2, "melee");
            console.log(`Melee Attack Total Damage: ${melee2.finalDamage}`);
            verifyAttackJson(ranged2, "ranged");
            console.log(`Ranged Attack Total Damage: ${ranged2.finalDamage}`);
        });
        
        it('Impossible Attack: Verify Calculations', function(){
            verifyAttackJson(melee3, "melee");
            console.log(`Melee Attack Total Damage: ${melee3.finalDamage}`);
            verifyAttackJson(ranged3, "ranged");
            console.log(`Ranged Attack Total Damage: ${ranged3.finalDamage}`);
        });
        it('Herculean Attack: Verify Calculations', function(){
            verifyAttackJson(melee4, "melee");
            console.log(`Melee Attack Total Damage: ${melee4.finalDamage}`);
            verifyAttackJson(ranged4, "ranged");
            console.log(`Ranged Attack Total Damage: ${ranged4.finalDamage}`);
        });

    });

    describe('50 Attacks - Test Resource Exhaustion', function() {
        var ranged0 = {"type":"ranged","baseDifficulty":0,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":true,"attacks":[{"hitRollRaw":3,"hitRollTotal":6,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":8,"hitRollTotal":11,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":5,"hitRollTotal":8,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":7,"hitRollTotal":10,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":3,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[5,2]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":3,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":8,"rawDamage":6,"damageRolls":[2,4]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":1,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]}],"finalDamage":67,"resourceUsed":12,"durabilityLost":0},
            ranged1 = {"type":"ranged","baseDifficulty":3,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":true,"attacks":[{"hitRollRaw":7,"hitRollTotal":10,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":9,"hitRollTotal":12,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":8,"rawDamage":6,"damageRolls":[6]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":5,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":12,"rawDamage":10,"damageRolls":[6,4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":6,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":5,"rawDamage":3,"damageRolls":[2,1]},{"hitRollRaw":9,"hitRollTotal":12,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":4,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":75,"resourceUsed":12,"durabilityLost":0},
            ranged2 = {"type":"ranged","baseDifficulty":6,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":true,"attacks":[{"hitRollRaw":4,"hitRollTotal":7,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":7,"rawDamage":5,"damageRolls":[5]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":7,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":8,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":9,"hitRollTotal":12,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":7,"hitRollTotal":10,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":7,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":10,"rawDamage":8,"damageRolls":[3,5]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":41,"resourceUsed":12,"durabilityLost":0},
            ranged3 = {"type":"ranged","baseDifficulty":9,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":true,"attacks":[{"hitRollRaw":5,"hitRollTotal":8,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":11,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":11,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[5,2]},{"hitRollRaw":7,"hitRollTotal":10,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":10,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":8,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":15,"resourceUsed":12,"durabilityLost":0},
            ranged4 = {"type":"ranged","baseDifficulty":12,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":1,"profBonus":2,"startingResource":12,"startingDurability":1,"damageDice":["1d6+2>2","1","6","+2","2"],"critBonus":1,"resourceCost":1,"weaponBroken":false,"exhausted":true,"attacks":[{"hitRollRaw":1,"hitRollTotal":4,"difficulty":14,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":11,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":4,"difficulty":13,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":7,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":9,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":10,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":12,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":5,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":11,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":6,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":0,"resourceUsed":12,"durabilityLost":0},

            melee0 = {"type":"melee","baseDifficulty":0,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":50,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":6,"hitRollTotal":10,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":3,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":2,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":3,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":11,"rawDamage":9,"damageRolls":[1,4,4]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":1,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":10,"rawDamage":8,"damageRolls":[3,1,4]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":2,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":10,"rawDamage":8,"damageRolls":[4,2,2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":1,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":2,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]}],"finalDamage":231,"resourceUsed":50,"durabilityLost":4},
            melee1 = {"type":"melee","baseDifficulty":3,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":50,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":4,"hitRollTotal":8,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":5,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":4,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":11,"rawDamage":9,"damageRolls":[4,1,4]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":6,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":8,"rawDamage":6,"damageRolls":[4,1,1]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":4,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":8,"rawDamage":6,"damageRolls":[1,3,2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":6,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":6,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":5,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":12,"rawDamage":10,"damageRolls":[2,4,4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":6,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":8,"rawDamage":6,"damageRolls":[1,1,4]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]}],"finalDamage":234,"resourceUsed":50,"durabilityLost":3},
            melee2 = {"type":"melee","baseDifficulty":6,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":50,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":2,"hitRollTotal":6,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":7,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[3,1,3]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":8,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":9,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[4,1,2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":8,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":8,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[4,1,2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":9,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":8,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":12,"rawDamage":10,"damageRolls":[3,4,3]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":9,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":10,"rawDamage":8,"damageRolls":[4,1,3]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":8,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":13,"rawDamage":11,"damageRolls":[3,4,4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]}],"finalDamage":213,"resourceUsed":50,"durabilityLost":3},
            melee3 = {"type":"melee","baseDifficulty":9,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":50,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":6,"hitRollTotal":10,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":12,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[1,4,2]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":11,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":10,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":8,"rawDamage":6,"damageRolls":[1,4,1]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":10,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":12,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":11,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[1,3,3]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":11,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":11,"rawDamage":9,"damageRolls":[3,4,2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":12,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":10,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":10,"rawDamage":8,"damageRolls":[4,1,3]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":10,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":12,"rawDamage":10,"damageRolls":[4,3,3]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":120,"resourceUsed":50,"durabilityLost":4},
            melee4 = {"type":"melee","baseDifficulty":12,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":50,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":false,"exhausted":false,"attacks":[{"hitRollRaw":8,"hitRollTotal":12,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":13,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[3,1,3]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":15,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":15,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":10,"rawDamage":8,"damageRolls":[3,3,2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":15,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[3,2,2]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":14,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":14,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":11,"rawDamage":9,"damageRolls":[4,4,1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":13,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":46,"resourceUsed":50,"durabilityLost":3};




        
        it('Easy Attack: Verify Calculations', function(){
            verifyAttackJson(melee0, "melee");
            console.log(`Melee Resources Spent: ${melee0.resourceUsed}   Melee Durability Lost: ${melee0.durabilityLost}   Num of Attacks:${melee0.attacks.length}`);
            verifyAttackJson(ranged0, "ranged");
            console.log(`Ranged Resources Spent: ${ranged0.resourceUsed}    Num of Attacks: ${ranged0.attacks.length}`);
        });
        
        it('Medium Attack: Verify Calculations', function(){
            verifyAttackJson(melee1, "melee");
            console.log(`Melee Resources Spent: ${melee1.resourceUsed}   Melee Durability Lost: ${melee1.durabilityLost}   Num of Attacks:${melee1.attacks.length}`);
            verifyAttackJson(ranged1, "ranged");
            console.log(`Ranged Resources Spent: ${ranged1.resourceUsed}    Num of Attacks: ${ranged1.attacks.length}`);
        });

        it('Hard Attack: Verify Calculations', function(){
            verifyAttackJson(melee2, "melee");
            console.log(`Melee Resources Spent: ${melee2.resourceUsed}   Melee Durability Lost: ${melee2.durabilityLost}   Num of Attacks:${melee2.attacks.length}`);
            verifyAttackJson(ranged2, "ranged");
            console.log(`Ranged Resources Spent: ${ranged2.resourceUsed}    Num of Attacks: ${ranged2.attacks.length}`);
        });
        
        it('Impossible Attack: Verify Calculations', function(){
            verifyAttackJson(melee3, "melee");
            console.log(`Melee Resources Spent: ${melee3.resourceUsed}   Melee Durability Lost: ${melee3.durabilityLost}   Num of Attacks:${melee3.attacks.length}`);
            verifyAttackJson(ranged3, "ranged");
            console.log(`Ranged Resources Spent: ${ranged3.resourceUsed}    Num of Attacks: ${ranged3.attacks.length}`);
        });
        it('Herculean Attack: Verify Calculations', function(){
            verifyAttackJson(melee4, "melee");
            console.log(`Melee Resources Spent: ${melee4.resourceUsed}   Melee Durability Lost: ${melee4.durabilityLost}   Num of Attacks:${melee4.attacks.length}`);
            verifyAttackJson(ranged4, "ranged");
            console.log(`Ranged Resources Spent: ${ranged4.resourceUsed}    Num of Attacks: ${ranged4.attacks.length}`);
        });

    });

    describe('50 Attacks - Test Durability', function() {
        var melee0 = {"type":"melee","baseDifficulty":0,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":true,"exhausted":false,"attacks":[{"hitRollRaw":4,"hitRollTotal":8,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":2,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":7,"rawDamage":5,"damageRolls":[2,1,2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":2,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":3,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":1,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":11,"rawDamage":9,"damageRolls":[3,4,2]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":2,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":11,"rawDamage":9,"damageRolls":[4,1,4]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":2,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[4,2,1]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":1,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":2,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":11,"rawDamage":9,"damageRolls":[4,3,2]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":2,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":1,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]}],"finalDamage":159,"resourceUsed":33,"durabilityLost":3},
            melee1 = {"type":"melee","baseDifficulty":3,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":true,"exhausted":false,"attacks":[{"hitRollRaw":4,"hitRollTotal":8,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":4,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":4,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":4,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":5,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":6,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]}],"finalDamage":32,"resourceUsed":11,"durabilityLost":3},
            melee2 = {"type":"melee","baseDifficulty":6,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":true,"exhausted":false,"attacks":[{"hitRollRaw":10,"hitRollTotal":10,"difficulty":9,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[4,1,2]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":9,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":7,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":9,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":14,"rawDamage":12,"damageRolls":[4,4,4]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":8,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":8,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":9,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]}],"finalDamage":54,"resourceUsed":12,"durabilityLost":3},
            melee3 = {"type":"melee","baseDifficulty":9,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":true,"exhausted":false,"attacks":[{"hitRollRaw":4,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":4,"hitRollTotal":8,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":10,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":11,"rawDamage":9,"damageRolls":[4,1,4]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":12,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":4,"rawDamage":2,"damageRolls":[2]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":11,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":10,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[2,1,4]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":10,"hitRollTotal":10,"difficulty":11,"atkCrit":true,"atkHit":true,"atkFail":false,"totalDamage":9,"rawDamage":7,"damageRolls":[2,4,1]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":10,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":6,"rawDamage":4,"damageRolls":[4]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":12,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":10,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":5,"rawDamage":3,"damageRolls":[3]}],"finalDamage":81,"resourceUsed":40,"durabilityLost":3},
            melee4 = {"type":"melee","baseDifficulty":12,"numAttacks":50,"hitRoll":10,"hitBonus":0,"attrBonus":2,"profBonus":2,"startingResource":50,"startingDurability":3,"damageDice":["1d4+2","1","4","+2",null],"critBonus":2,"resourceCost":1,"weaponBroken":true,"exhausted":false,"attacks":[{"hitRollRaw":9,"hitRollTotal":13,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":true,"totalDamage":3,"rawDamage":1,"damageRolls":[1]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":3,"hitRollTotal":7,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":7,"hitRollTotal":11,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":13,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":1,"hitRollTotal":5,"difficulty":15,"atkHit":false,"atkCrit":false,"atkFail":true,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":6,"hitRollTotal":10,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":2,"hitRollTotal":6,"difficulty":13,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":5,"hitRollTotal":9,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":9,"hitRollTotal":13,"difficulty":15,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]},{"hitRollRaw":8,"hitRollTotal":12,"difficulty":14,"atkCrit":false,"atkFail":false,"atkHit":false,"totalDamage":0,"rawDamage":0,"damageRolls":[]}],"finalDamage":3,"resourceUsed":14,"durabilityLost":3};




        
        it('Easy Attack: Verify Calculations', function(){
            verifyAttackJson(melee0, "melee");
            console.log(`Damage Dealt: ${melee0.finalDamage}   Melee Durability Lost: ${melee0.durabilityLost}   Num of Attacks:${melee0.attacks.length}`);
        });
        
        it('Medium Attack: Verify Calculations', function(){
            verifyAttackJson(melee1, "melee");
            console.log(`Damage Dealt: ${melee1.finalDamage}   Melee Durability Lost: ${melee1.durabilityLost}   Num of Attacks:${melee1.attacks.length}`);
        });

        it('Hard Attack: Verify Calculations', function(){
            verifyAttackJson(melee2, "melee");
            console.log(`Damage Dealt: ${melee2.finalDamage}   Melee Durability Lost: ${melee2.durabilityLost}   Num of Attacks:${melee2.attacks.length}`);
        });
        
        it('Impossible Attack: Verify Calculations', function(){
            verifyAttackJson(melee3, "melee");
            console.log(`Damage Dealt: ${melee3.finalDamage}   Melee Durability Lost: ${melee3.durabilityLost}   Num of Attacks:${melee3.attacks.length}`);
        });
        it('Herculean Attack: Verify Calculations', function(){
            verifyAttackJson(melee4, "melee");
            console.log(`Damage Dealt: ${melee4.finalDamage}   Melee Durability Lost: ${melee4.durabilityLost}   Num of Attacks:${melee4.attacks.length}`);
        });

    });

})


function verifyAttackJson(json, type){
    assert.equal(json.type, type);
    
    //test dice
    var originalDice = json.damageDice[0],
        diceRegex = /([\d]*?)?(?:[dD])([\d]*)([\+\-]\d*)?(?:[>])?(\d*)?/;
        newDice = diceRegex.exec(originalDice);
    assert.equal(json.damageDice[0], newDice[0]);
    assert.equal(json.damageDice[1], newDice[1]);
    assert.equal(json.damageDice[2], newDice[2]);
    assert.equal(json.damageDice[3], newDice[3]);
    assert.equal(json.damageDice[4], newDice[4]);
    
    
    var dmgRolls = (parseInt(json.damageDice[1],10) || 1),
    dmgMax = (parseInt(json.damageDice[2],10) || 1),
    dmgBonus = (parseInt(json.damageDice[3],10) || 0),
    dmgMin = (parseInt(json.damageDice[4],10) || 0),
    totalDmg = 0,
    durabilityLost = 0;
    
    //ran out of resource
    if (json.exhausted){
        assert.ok(json.attacks.length < json.numAttacks);
        assert.ok(json.startingResource <= json.resourceUsed);
    }
    
    //weapon breaks
    if (json.weaponBroken){
        assert.ok(json.attacks.length < json.numAttacks);
        assert.ok(json.startingDurability <= json.durabilityLost);
        durabilityLost++ //If the weapon brokes, a durabilityLost is added but a new attack is not; account for it here.
    }
    
    //neither ran out nor weapon broke
    if (!json.weaponBroken && !json.exhausted){
        assert.equal(json.resourceUsed, (json.numAttacks * json.resourceCost))
        assert.equal(json.attacks.length, json.numAttacks);
    }

    //attack loop
    for (let atk of json.attacks){

        //difficulty
        assert.ok(atk.difficulty > json.baseDifficulty); //added on base diff
        assert.ok( (atk.difficulty - json.baseDifficulty) <= 3); //range of 1-3

        //hit roll max
        assert.ok(atk.hitRollRaw <= json.hitRoll);
        
        //Test Crit
        if (atk.hitRollRaw >= 10){
            assert.equal(atk.hitRollRaw, atk.hitRollTotal); //rolltotal = raw
            assert.ok(atk.atkCrit); //set crit flag
            assert.ok(atk.atkHit); //set hit flag
            assert.equal(false,atk.atkFail); //set fail falg
            
            //dmg check
            assert.equal(atk.damageRolls.length, dmgRolls + (dmgRolls * json.critBonus)); //added crit bonus
            assert.equal(atk.rawDamage, atk.damageRolls.reduce((a,b) => {return a+b})); //raw damage
            assert.equal(atk.totalDamage, atk.rawDamage + dmgBonus); //total damage
        } else {
            assert.equal(atk.hitRollTotal, atk.hitRollRaw + json.attrBonus + json.profBonus); //check hit bonus

            //Test fail
            if (atk.hitRollRaw == 1){
                
                assert.ok(atk.atkFail); //flag
                assert.equal(false,atk.atkCrit); //flag
                assert.equal(false,atk.atkHit); //flag

                //dmg check
                assert.equal(atk.damageRolls.length, 0);
                assert.equal(atk.totalDamage, 0);
                assert.equal(atk.rawDamage, 0);
            } else if (atk.atkHit) { //Test hit
               
                assert.equal(atk.hitRollTotal >= atk.difficulty, true); //hit vs diff
                assert.equal(false,atk.atkCrit); //flag
                assert.equal(false,atk.atkFail); //flag

                //dmg check
                assert.equal(atk.damageRolls.length, dmgRolls); //added crit bonus
                assert.equal(atk.rawDamage, atk.damageRolls.reduce((a,b) => {return a+b})); //raw damage
                assert.equal(atk.totalDamage, atk.rawDamage + dmgBonus); //total damage
            } else { // Test miss
                
                assert.equal(false, atk.atkCrit); //flag
                assert.equal(false, atk.atkFail); //not crit fail
                assert.equal(atk.hitRollTotal < atk.difficulty, true); //hit vs diff

                //dmg check
                assert.equal(atk.damageRolls.length, 0);
                assert.equal(atk.totalDamage, 0);
                assert.equal(atk.rawDamage, 0);
            }
        }

        //additive adds
        if (atk.hitRollRaw == 1 && type=="melee"){ durabilityLost++};
        totalDmg += atk.totalDamage;
        
    } //end attack loop

    assert.equal(totalDmg, json.finalDamage);
    assert.equal(durabilityLost, json.durabilityLost);
}